<html>
<head>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"></link>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"></link>
<style id="webmakerstyle">
main {
  border: 5px solid blue;
  height: 100%;
}
.sidebar {
  border: 5px solid red;
  height: 100%;
}
.soc-bar {
  border: 5px solid purple;
  height: 100%;
}

.richTxtBtns{
  margin: 10px;
}

.richTextBox {
  height: 100%;
  width: 100%;
  background: lightgray;
}

.fa-caret-up, .fa-caret-down {
  font-size: 10; 
}

.sm-font {
  font-size: 11;
}


</style>
</head>
<body>
<head>
  
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <div class="hidden-sm hidden-xs col-md-2">
        <aside class="soc-bar">
          woot
        </aside>
      </div>
      <div class="col-xs-12 col-sm-8 col-md-7">
        <main>
        <section class="richTxtBtns"> 
          <button id='bold' class="btn cmdBtn"><i class="fa fa-bold" aria-hidden="true"></i></button>
          <button id='italic' class="btn cmdBtn"><i class="fa fa-italic" aria-hidden="true"></i></button>
          <button id='underline' class="btn cmdBtn"><i class="fa fa-underline" aria-hidden="true"></i></button>
          <button id='strikeThrough' class="btn cmdBtn"><i class="fa fa-strikethrough" aria-hidden="true"></i></button>
          <button id='justifyLeft' class="btn cmdBtn"><i class="fa fa-align-left" aria-hidden="true"></i></button>
          <button id='justifyCenter' class="btn cmdBtn"><i class="fa fa-align-center" aria-hidden="true"></i></button> 
          <button id='justifyRight' class="btn cmdBtn"><i class="fa fa-align-right" aria-hidden="true"></i></button>
          <button id='indent' class="btn cmdBtn"><i class="fa fa-indent" aria-hidden="true"></i></button>
          <button id='outdent' class="btn cmdBtn"><i class="fa fa-dedent" aria-hidden="true"></i></button>
          <button id='undo' class="btn cmdBtn"><i class="fa fa-undo" aria-hidden="true"></i></button>
          <button id='redo' class="btn cmdBtn"><i class="fa fa-repeat" aria-hidden="true"></i></button>
          <button id='insertUnorderedList' class="btn cmdBtn"><i class="fa fa-list-ul" aria-hidden="true"></i></button>
          <button id='insertOrderedList' class="btn cmdBtn"><i class="fa fa-list-ol" aria-hidden="true"></i></button>
          <button id='H1' class="btn headerBtn"><i class="fa fa-header"> 1</i></button>
          <button id='H2' class="btn headerBtn"><i class="fa fa-header"> 2</i></button>
          <button id='H3' class="btn headerBtn"><i class="fa fa-header"> 3</i></button>
          <button id='createLink' class="btn cmdBtn"><i class="fa fa-link" aria-hidden="true"></i></button>
          <button id='unlink' class="btn cmdBtn"><i class="fa fa-unlink" aria-hidden="true"></i></button>

          <select class="select-font">
            <option style="font-family:'Times New Roman'" value="Times New Roman">Times New Roman</option>
            <option style="font-family:'Arial'" value="Arial">Arial</option>
            <option style="font-family:'Courier New'" value="Courier New">Courier New</option>
            <option style="font-family:'Georgia'" value="Georgia">Georgia</option>
          </select>
          <select>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
          </select>
          <button id='lg-font' class="btn cmdBtn"><i class="fa fa-font lg-font" aria-hidden="true"></i><i class="fa fa-caret-up" aria-hidden="true"></i></button>
          <button id='sm-font' class="btn cmdBtn"><i class="fa fa-font sm-font" aria-hidden="true"></i><i class="fa fa-caret-down" aria-hidden="true"></i></button>


        </section>
          <div>
            <button class="btn btn-danger testBtn">
              Test
            </button>
          </div>
          <section class="textGoesHere">
            <iframe class="richTextBox" name="richTextField"></iframe>
          </section>
      </main>
      </div>
      <div class="hidden-xs col-sm-4 col-md-3">
        <section>
          <div class="sidebar">   
          hello
          </div>
        </section>
      </div>
    </div>
  </div>
</body>

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="chrome-extension://lkfkkhfhhdkiemehlpkgjeojomhpccnh/lib/screenlog.js"></script><script>
var fontsize;
// document ready
$(function(){ 
  

  
  // initialize iframe content
  var contents = "bloop";
  $('iframe').contents().find('body').html(contents);
  
  // set iframe default font size
 $('iframe').contents().find('body').css("font-size", "19px");
  
    
  // turn on editing
	enableEditMode();
  
  // check for local storage
  if (typeof(Storage) != "undefined") {
    // Code for localStorage/sessionStorage.

    // TODO check if logged in
    if (true) {
      // display logged in view 
      
    }
    else {
      // TODO: display logged out view
    }
  }
  else {
      // TODO: "Sorry, no web storage support..."
  }
   


}); // end document ready

// executes the command that's in the id of the button
$(".cmdBtn").click(function(){
  execCmd($(this).attr('id'));
  console.log("command button");
}); 

// executes the header buttons
$(".headerBtn").click(function(){
  execCmdWithArg("formatBlock", $(this).attr('id'));
}); 

// executes a change of font
$(".select-font").click(function(){
  execCmdWithArg("fontName", this.value);
});

// increase font size
$("#lg-font").click(function(){
  var newFontSize = parseFloat(  $('iframe').contents().find('body').css("font-size").slice(0, -2)) + 2;
  $('iframe').contents().find('body').css("font-size", newFontSize + "px");
});

// decrease font size
$("#sm-font").click(function(){
  var newFontSize = parseFloat(  $('iframe').contents().find('body').css("font-size").slice(0, -2)) - 2;
  $('iframe').contents().find('body').css("font-size", newFontSize + "px");

});

$(".testBtn").click(function(){
  
  var htmlTxt = $("iframe").contents().find("html").html();
  var txt = $("iframe").contents().find("html")[0].innerText.trim();
  console.log("html: " + htmlTxt);
  console.log("txt: " + txt);
});


// turns on the text editor
function enableEditMode() {
     richTextField.document.designMode = 'On';
   }

// does the rich parts of "rich text"
function execCmd(command){
  richTextField.document.execCommand(command, false, null);
  console.log("Command: "+command);
}
   
function execCmdWithArg(command, arg){
  richTextField.document.execCommand(command, false, arg);
  console.log("Command: "+command);
}
//# sourceURL=userscript.js
</script>
</body>
</html>